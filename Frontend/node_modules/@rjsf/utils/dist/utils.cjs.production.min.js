"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("lodash/isPlainObject"),t=require("lodash/isEqualWith"),r=require("lodash/get"),n=require("lodash/isEmpty"),i=require("jsonpointer"),o=require("lodash/omit"),a=require("lodash/has"),s=require("lodash/isObject"),u=require("lodash/isString"),l=require("lodash/reduce"),d=require("lodash/times"),c=require("lodash/set"),f=require("lodash/transform"),p=require("json-schema-merge-allof"),m=require("lodash/union"),h=require("lodash/isEqual"),y=require("lodash"),g=require("lodash/cloneDeep"),x=require("react/jsx-runtime"),b=require("react"),S=require("react-is"),A=require("lodash/toPath"),O=require("lodash/forEach");function v(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var E=v(e),w=v(t),_=v(r),I=v(n),D=v(i),F=v(o),T=v(a),j=v(s),W=v(u),N=v(l),U=v(d),P=v(c),q=v(f),$=v(p),M=v(m),L=v(h),R=v(g),C=v(S),k=v(A),B=v(O);function Y(e){return!("undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Date&&e instanceof Date||"object"!=typeof e||null===e||Array.isArray(e))}const V="__additional_property",K="additionalProperties",H="allOf",J="anyOf",z="const",G="default",Q="dependencies",X="enum",Z="__errors",ee="$id",te="if",re="items",ne="_$junk_option_schema_id$_",ie="$name",oe="oneOf",ae="properties",se="required",ue="submitButtonOptions",le="$ref",de="__rjsf_additionalProperties",ce="__rjsf_rootSchema",fe="ui:field",pe="ui:widget",me="ui:options";function he(e={},t={}){return Object.keys(e).filter((e=>0===e.indexOf("ui:"))).reduce(((t,r)=>{const n=e[r];return r===pe&&Y(n)?(console.error("Setting options via ui:widget object is no longer supported, use ui:options instead"),t):r===me&&Y(n)?{...t,...n}:{...t,[r.substring(3)]:n}}),{...t})}function ye(e,t){return w.default(e,t,((e,t)=>{if("function"==typeof e&&"function"==typeof t)return!0}))}function ge(e,t){const r=t[e];return[F.default(t,[e]),r]}function xe(e,t={}){let r=e||"";if(!r.startsWith("#"))throw new Error(`Could not find a definition for ${e}.`);r=decodeURIComponent(r.substring(1));const n=D.default.get(t,r);if(void 0===n)throw new Error(`Could not find a definition for ${e}.`);if(n[le]){const[e,r]=ge(le,n),i=xe(r,t);return Object.keys(e).length>0?{...e,...i}:i}return n}function be(e,t,r,n,i){if(void 0===t)return 0;for(let o=0;o<r.length;o++){const a=r[o];if(i&&T.default(a,[ae,i])){const r=_.default(t,i),s=_.default(a,[ae,i],{});if(e.isValid(s,r,n))return o}else if(a[ae]){const r={anyOf:Object.keys(a[ae]).map((e=>({required:[e]})))};let i;if(a.anyOf){const{...e}=a;e.allOf=e.allOf?e.allOf.slice():[],e.allOf.push(r),i=e}else i=Object.assign({},a,r);if(delete i.required,e.isValid(i,t,n))return o}else if(e.isValid(a,t,n))return o}return 0}function Se(e,t,r,n,i){return be(e,t,r,n,i)}function Ae(e){let t;const r=_.default(e,"discriminator.propertyName",void 0);return W.default(r)?t=r:void 0!==r&&console.warn(`Expecting discriminator to be a string, got "${typeof r}" instead`),t}function Oe(e){return Array.isArray(e)?"array":"string"==typeof e?"string":null==e?"null":"boolean"==typeof e?"boolean":isNaN(e)?"object"==typeof e?"object":"string":"number"}function ve(e){let{type:t}=e;return!t&&e.const?Oe(e.const):!t&&e.enum?"string":t||!e.properties&&!e.additionalProperties?(Array.isArray(t)&&2===t.length&&t.includes("null")&&(t=t.find((e=>"null"!==e))),t):"object"}function Ee(e,t){const r=Object.assign({},e);return Object.keys(t).reduce(((r,n)=>{const i=e?e[n]:{},o=t[n];return r[n]=e&&n in e&&Y(o)?Ee(i,o):e&&t&&("object"===ve(e)||"object"===ve(t))&&n===se&&Array.isArray(i)&&Array.isArray(o)?M.default(i,o):o,r}),r)}function we(e,t,r={},n){return Fe(e,t,r,n)[0]}function _e(e){return e.reduce(((e,t)=>t.length>1?t.flatMap((t=>U.default(e.length,(r=>[...e[r]].concat(t))))):(e.forEach((e=>e.push(t[0]))),e)),[[]])}function Ie(e,t,r,n,i){const{$ref:o,...a}=t;return Fe(e,{...xe(o,r),...a},r,i,n)}function De(e,t){let r=e;if(le in r){const{$ref:e,...n}=r;r={...xe(e,t),...n}}if(ae in r){const e=q.default(r[ae],((e,r,n)=>{e[n]=De(r,t)}),{});r={...r,[ae]:e}}return re in r&&!Array.isArray(r.items)&&"boolean"!=typeof r.items&&(r={...r,items:De(r.items,t)}),r}function Fe(e,t,r,n,i=!1){if(!Y(t))return[{}];const o=function(e,t,r,n,i){return le in t?Ie(e,t,r,n,i):Q in t?je(e,t,r,n,i).flatMap((t=>Fe(e,t,r,i,n))):H in t&&Array.isArray(t.allOf)?_e(t.allOf.map((t=>Fe(e,t,r,i,n)))).map((e=>({...t,allOf:e}))):[t]}(e,t,r,i,n);return o.flatMap((t=>{let o=t;if(te in o)return function(e,t,r,n,i){const{if:o,then:a,else:s,...u}=t,l=e.isValid(o,i||{},r);let d=[u],c=[];if(n)a&&"boolean"!=typeof a&&(c=c.concat(Fe(e,a,r,i,n))),s&&"boolean"!=typeof s&&(c=c.concat(Fe(e,s,r,i,n)));else{const t=l?a:s;t&&"boolean"!=typeof t&&(c=c.concat(Fe(e,t,r,i,n)))}return c.length&&(d=c.map((e=>Ee(u,e)))),d.flatMap((t=>Fe(e,t,r,i,n)))}(e,o,r,i,n);if(H in o){if(i)return[...o.allOf];try{o=$.default(o,{deep:!1})}catch(e){console.warn("could not merge subschemas in allOf:\n",e);const{allOf:t,...r}=o;return r}}return K in o&&!1!==o.additionalProperties?function(e,t,r,n){const i={...t,properties:{...t.properties}},o=n&&Y(n)?n:{};return Object.keys(o).forEach((t=>{if(t in i.properties)return;let n={};n="boolean"!=typeof i.additionalProperties?le in i.additionalProperties?we(e,{$ref:_.default(i.additionalProperties,[le])},r,o):"type"in i.additionalProperties?{...i.additionalProperties}:J in i.additionalProperties||oe in i.additionalProperties?{type:"object",...i.additionalProperties}:{type:Oe(_.default(o,[t]))}:{type:Oe(_.default(o,[t]))},i.properties[t]=n,P.default(i.properties,[t,V],!0)})),i}(e,o,r,n):o}))}function Te(e,t,r,n,i){let o;const{oneOf:a,anyOf:s,...u}=t;if(Array.isArray(a)?o=a:Array.isArray(s)&&(o=s),o){const a=void 0===i&&n?{}:i,s=Ae(t);o=o.map((e=>De(e,r)));const l=Se(e,a,o,r,s);if(n)return o.map((e=>Ee(u,e)));t=Ee(u,o[l])}return[t]}function je(e,t,r,n,i){const{dependencies:o,...a}=t;return Te(e,a,r,n,i).flatMap((t=>We(e,o,t,r,n,i)))}function We(e,t,r,n,i,o){let a=[r];for(const s in t){if(!i&&void 0===_.default(o,[s]))continue;if(r.properties&&!(s in r.properties))continue;const[u,l]=ge(s,t);return Array.isArray(l)?a[0]=Ne(r,l):Y(l)&&(a=Ue(e,r,n,s,l,i,o)),a.flatMap((t=>We(e,u,t,n,i,o)))}return a}function Ne(e,t){if(!t)return e;const r=Array.isArray(e.required)?Array.from(new Set([...e.required,...t])):t;return{...e,required:r}}function Ue(e,t,r,n,i,o,a){return Fe(e,i,r,a,o).flatMap((i=>{const{oneOf:s,...u}=i;return t=Ee(t,u),void 0===s?t:_e(s.map((t=>"boolean"!=typeof t&&le in t?Ie(e,t,r,o,a):[t]))).flatMap((i=>function(e,t,r,n,i,o,a){const s=i.filter((t=>{if("boolean"==typeof t||!t||!t.properties)return!1;const{[n]:i}=t.properties;return!!i&&(e.isValid({type:"object",properties:{[n]:i}},a,r)||o)}));return o||1===s.length?s.flatMap((i=>{const s=i,[u]=ge(n,s.properties),l={...s,properties:u};return Fe(e,l,r,a,o).map((e=>Ee(t,e)))})):(console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),[t])}(e,t,r,n,i,o,a)))}))}const Pe={type:"object",$id:ne,properties:{__not_really_there__:{type:"number"}}};function qe(e,t,r,n={}){let i=0;return r&&(j.default(r.properties)?i+=N.default(r.properties,((r,i,o)=>{const a=_.default(n,o);if("boolean"==typeof i)return r;if(T.default(i,le)){const n=we(e,i,t,a);return r+qe(e,t,n,a||{})}if((T.default(i,oe)||T.default(i,J))&&a){const n=T.default(i,oe)?oe:J,o=Ae(i);return r+$e(e,t,a,_.default(i,n),-1,o)}if("object"===i.type)return r+qe(e,t,i,a||{});if(i.type===Oe(a)){let e=r+1;return i.default?e+=a===i.default?1:-1:i.const&&(e+=a===i.const?1:-1),e}return r}),0):W.default(r.type)&&r.type===Oe(n)&&(i+=1)),i}function $e(e,t,r,n,i=-1,o){const a=n.map((e=>De(e,t))),s=a.reduce(((n,i,a)=>(1===Se(e,r,[Pe,i],t,o)&&n.push(a),n)),[]);if(1===s.length)return s[0];s.length||U.default(a.length,(e=>s.push(e)));const u=new Set,{bestIndex:l}=s.reduce(((n,i)=>{const{bestScore:o}=n,s=qe(e,t,a[i],r);return u.add(s),s>o?{bestIndex:i,bestScore:s}:n}),{bestIndex:i,bestScore:0});return 1===u.size&&i>=0?i:l}function Me(e){return Array.isArray(e.items)&&e.items.length>0&&e.items.every((e=>Y(e)))}function Le(e,t,r=!1){if(Array.isArray(t)){const n=Array.isArray(e)?e:[],i=t.map(((e,t)=>n[t]?Le(n[t],e,r):e));return r&&i.length<n.length&&i.push(...n.slice(i.length)),i}if(Y(t)){const n=Object.assign({},e);return Object.keys(t).reduce(((n,i)=>(n[i]=Le(e?_.default(e,i):{},_.default(t,i),r),n)),n)}return t}function Re(e,t,r=!1){return Object.keys(t).reduce(((n,i)=>{const o=e?e[i]:{},a=t[i];if(e&&i in e&&Y(a))n[i]=Re(o,a,r);else if(r&&Array.isArray(o)&&Array.isArray(a)){let e=a;"preventDuplicates"===r&&(e=a.reduce(((e,t)=>(o.includes(t)||e.push(t),e)),[])),n[i]=o.concat(e)}else n[i]=a;return n}),Object.assign({},e))}function Ce(e){return Array.isArray(e.enum)&&1===e.enum.length||z in e}function ke(e,t,r={}){const n=we(e,t,r,void 0),i=n.oneOf||n.anyOf;return!!Array.isArray(n.enum)||!!Array.isArray(i)&&i.every((e=>"boolean"!=typeof e&&Ce(e)))}function Be(e,t,r){return!(!t.uniqueItems||!t.items||"boolean"==typeof t.items)&&ke(e,t.items,r)}var Ye;function Ve(e,t=Ye.Ignore,r=-1){if(r>=0){if(Array.isArray(e.items)&&r<e.items.length){const t=e.items[r];if("boolean"!=typeof t)return t}}else if(e.items&&!Array.isArray(e.items)&&"boolean"!=typeof e.items)return e.items;return t!==Ye.Ignore&&Y(e.additionalItems)?e.additionalItems:{}}function Ke(e,t,r,n,i,o=[],a={}){const{emptyObjectFields:s="populateAllDefaults"}=a;if(n)e[t]=r;else if("skipDefaults"!==s)if(Y(r)){const n=void 0===i?o.includes(t):i;I.default(r)&&!o.includes(t)||!n&&"populateRequiredDefaults"===s||(e[t]=r)}else void 0===r||"populateAllDefaults"!==s&&!o.includes(t)||(e[t]=r)}function He(e,t,{parentDefaults:r,rawFormData:n,rootSchema:i={},includeUndefinedValues:o=!1,_recurseList:a=[],experimental_defaultFormStateBehavior:s,required:u}={}){const l=Y(n)?n:{},d=Y(t)?t:{};let c=r,f=null,p=a;if(Y(c)&&Y(d.default))c=Re(c,d.default);else if(G in d)c=d.default;else if(le in d){const e=d[le];a.includes(e)||(p=a.concat(e),f=xe(e,i))}else if(Q in d)f=je(e,d,i,!1,l)[0];else if(Me(d))c=d.items.map(((t,n)=>He(e,t,{rootSchema:i,includeUndefinedValues:o,_recurseList:a,experimental_defaultFormStateBehavior:s,parentDefaults:Array.isArray(r)?r[n]:void 0,rawFormData:l,required:u})));else if(oe in d){const{oneOf:t,...r}=d;if(0===t.length)return;const n=Ae(d);f=t[$e(e,i,I.default(l)?void 0:l,t,0,n)],f=Ee(r,f)}else if(J in d){const{anyOf:t,...r}=d;if(0===t.length)return;const n=Ae(d);f=t[$e(e,i,I.default(l)?void 0:l,t,0,n)],f=Ee(r,f)}if(f)return He(e,f,{rootSchema:i,includeUndefinedValues:o,_recurseList:p,experimental_defaultFormStateBehavior:s,parentDefaults:c,rawFormData:l,required:u});switch(void 0===c&&(c=d.default),ve(d)){case"object":{const t=Object.keys(d.properties||{}).reduce(((t,r)=>{var n;return Ke(t,r,He(e,_.default(d,[ae,r]),{rootSchema:i,_recurseList:a,experimental_defaultFormStateBehavior:s,includeUndefinedValues:!0===o,parentDefaults:_.default(c,[r]),rawFormData:_.default(l,[r]),required:null===(n=d.required)||void 0===n?void 0:n.includes(r)}),o,u,d.required,s),t}),{});if(d.additionalProperties){const r=Y(d.additionalProperties)?d.additionalProperties:{},n=new Set;let f;Y(c)&&Object.keys(c).filter((e=>!d.properties||!d.properties[e])).forEach((e=>n.add(e))),Y(l)&&(f=[],Object.keys(l).filter((e=>!d.properties||!d.properties[e])).forEach((e=>{n.add(e),f.push(e)}))),n.forEach((n=>{var p;const m=He(e,r,{rootSchema:i,_recurseList:a,experimental_defaultFormStateBehavior:s,includeUndefinedValues:!0===o,parentDefaults:_.default(c,[n]),rawFormData:_.default(l,[n]),required:null===(p=d.required)||void 0===p?void 0:p.includes(n)});Ke(t,n,m,o,u,f)}))}return t}case"array":{var m;if(Array.isArray(c)&&(c=c.map(((t,r)=>{const n=Ve(d,Ye.Fallback,r);return He(e,n,{rootSchema:i,_recurseList:a,experimental_defaultFormStateBehavior:s,parentDefaults:t,required:u})}))),Array.isArray(n)){const t=Ve(d);c=n.map(((r,n)=>He(e,t,{rootSchema:i,_recurseList:a,experimental_defaultFormStateBehavior:s,rawFormData:r,parentDefaults:_.default(c,[n]),required:u})))}if("requiredOnly"===(null==s||null===(m=s.arrayMinItems)||void 0===m?void 0:m.populate)&&!u)return c||void 0;const t=Array.isArray(c)?c.length:0;if(!d.minItems||Be(e,d,i)||d.minItems<=t)return c||[];const r=c||[],o=Ve(d,Ye.Invert),l=o.default,f=new Array(d.minItems-t).fill(He(e,o,{parentDefaults:l,rootSchema:i,_recurseList:a,experimental_defaultFormStateBehavior:s,required:u}));return r.concat(f)}}return c}function Je(e,t,r,n,i=!1,o){if(!Y(t))throw new Error("Invalid schema: "+t);const a=He(e,we(e,t,n,r),{rootSchema:n,includeUndefinedValues:i,experimental_defaultFormStateBehavior:o,rawFormData:r});if(null==r||"number"==typeof r&&isNaN(r))return a;const{mergeExtraDefaults:s}=(null==o?void 0:o.arrayMinItems)||{};return Y(r)||Array.isArray(r)?Le(a,r,s):r}function ze(e={}){return"widget"in he(e)&&"hidden"!==he(e).widget}function Ge(e,t,r={},n){if("files"===r[pe])return!0;if(t.items){const r=we(e,t.items,n);return"string"===r.type&&"data-url"===r.format}return!1}function Qe(e,t,r={},n,i){const o=he(r,i),{label:a=!0}=o;let s=!!a;const u=ve(t);return"array"===u&&(s=Be(e,t,n)||Ge(e,t,r,n)||ze(r)),"object"===u&&(s=!1),"boolean"!==u||r[pe]||(s=!1),r[fe]&&(s=!1),s}function Xe(e,t,r){if(!r)return t;const{errors:n,errorSchema:i}=t;let o=e.toErrorList(r),a=r;return I.default(i)||(a=Re(i,r,!0),o=[...n].concat(o)),{errorSchema:a,errors:o}}!function(e){e[e.Ignore=0]="Ignore",e[e.Invert=1]="Invert",e[e.Fallback=2]="Fallback"}(Ye||(Ye={}));const Ze=Symbol("no Value");function et(e,t,r,n,i={}){let o;if(T.default(r,ae)){const a={};if(T.default(n,ae)){const e=_.default(n,ae,{});Object.keys(e).forEach((e=>{T.default(i,e)&&(a[e]=void 0)}))}const s=Object.keys(_.default(r,ae,{})),u={};s.forEach((o=>{const s=_.default(i,o);let l=_.default(n,[ae,o],{}),d=_.default(r,[ae,o],{});T.default(l,le)&&(l=we(e,l,t,s)),T.default(d,le)&&(d=we(e,d,t,s));const c=_.default(l,"type"),f=_.default(d,"type");if(!c||c===f)if(T.default(a,o)&&delete a[o],"object"===f||"array"===f&&Array.isArray(s)){const r=et(e,t,d,l,s);void 0===r&&"array"!==f||(u[o]=r)}else{const e=_.default(d,"default",Ze),t=_.default(l,"default",Ze);e!==Ze&&e!==s&&(t===s?a[o]=e:!0===_.default(d,"readOnly")&&(a[o]=void 0));const r=_.default(d,"const",Ze),n=_.default(l,"const",Ze);r!==Ze&&r!==s&&(a[o]=n===s?r:void 0)}})),o={...i,...a,...u}}else if("array"===_.default(n,"type")&&"array"===_.default(r,"type")&&Array.isArray(i)){let a=_.default(n,"items"),s=_.default(r,"items");if("object"!=typeof a||"object"!=typeof s||Array.isArray(a)||Array.isArray(s))"boolean"==typeof a&&"boolean"==typeof s&&a===s&&(o=i);else{T.default(a,le)&&(a=we(e,a,t,i)),T.default(s,le)&&(s=we(e,s,t,i));const n=_.default(a,"type"),u=_.default(s,"type");if(!n||n===u){const n=_.default(r,"maxItems",-1);o="object"===u?i.reduce(((r,i)=>{const o=et(e,t,s,a,i);return void 0!==o&&(n<0||r.length<n)&&r.push(o),r}),[]):n>0&&i.length>n?i.slice(0,n):i}}}return o}function tt(e,t,r,n,i,o,a,s=[]){if(le in t||Q in t||H in t){const u=we(e,t,o,a);if(-1===s.findIndex((e=>L.default(e,u))))return tt(e,u,r,n,i,o,a,s.concat(u))}if(re in t&&!_.default(t,[re,le]))return tt(e,_.default(t,re),r,n,i,o,a,s);const u={$id:i||r};if("object"===ve(t)&&ae in t)for(const i in t.properties){const l=_.default(t,[ae,i]),d=u[ee]+n+i;u[i]=tt(e,Y(l)?l:{},r,n,d,o,_.default(a,[i]),s)}return u}function rt(e,t,r,n,i,o="root",a="_"){return tt(e,t,o,a,r,n,i)}function nt(e,t,r,n,i,o=[]){if(le in t||Q in t||H in t){const a=we(e,t,n,i);if(-1===o.findIndex((e=>L.default(e,a))))return nt(e,a,r,n,i,o.concat(a))}let a={[ie]:r.replace(/^\./,"")};if(oe in t||J in t){const s=oe in t?t.oneOf:t.anyOf,u=Ae(t),l=s[$e(e,n,i,s,0,u)];a={...a,...nt(e,l,r,n,i,o)}}if(K in t&&!1!==t[K]&&P.default(a,de,!0),re in t&&Array.isArray(i))i.forEach(((i,s)=>{a[s]=nt(e,t.items,`${r}.${s}`,n,i,o)}));else if(ae in t)for(const s in t.properties){const u=_.default(t,[ae,s]);a[s]=nt(e,u,`${r}.${s}`,n,_.default(i,[s]),o)}return a}function it(e,t,r="",n,i){return nt(e,t,r,n,i)}class ot{constructor(e,t,r){this.rootSchema=void 0,this.validator=void 0,this.experimental_defaultFormStateBehavior=void 0,this.rootSchema=t,this.validator=e,this.experimental_defaultFormStateBehavior=r}getValidator(){return this.validator}doesSchemaUtilsDiffer(e,t,r={}){return!(!e||!t||this.validator===e&&ye(this.rootSchema,t)&&ye(this.experimental_defaultFormStateBehavior,r))}getDefaultFormState(e,t,r=!1){return Je(this.validator,e,t,this.rootSchema,r,this.experimental_defaultFormStateBehavior)}getDisplayLabel(e,t,r){return Qe(this.validator,e,t,this.rootSchema,r)}getClosestMatchingOption(e,t,r,n){return $e(this.validator,this.rootSchema,e,t,r,n)}getFirstMatchingOption(e,t,r){return Se(this.validator,e,t,this.rootSchema,r)}getMatchingOption(e,t,r){return be(this.validator,e,t,this.rootSchema,r)}isFilesArray(e,t){return Ge(this.validator,e,t,this.rootSchema)}isMultiSelect(e){return Be(this.validator,e,this.rootSchema)}isSelect(e){return ke(this.validator,e,this.rootSchema)}mergeValidationData(e,t){return Xe(this.validator,e,t)}retrieveSchema(e,t){return we(this.validator,e,this.rootSchema,t)}sanitizeDataForNewSchema(e,t,r){return et(this.validator,this.rootSchema,e,t,r)}toIdSchema(e,t,r,n="root",i="_"){return rt(this.validator,e,t,this.rootSchema,r,n,i)}toPathSchema(e,t,r){return it(this.validator,e,t,this.rootSchema,r)}}function at(e,t){let r=e;if(Array.isArray(t)){const e=r.split(/(%\d)/);t.forEach(((t,r)=>{const n=e.findIndex((e=>e===`%${r+1}`));n>=0&&(e[n]=t)})),r=e.join("")}return r}function st(e,t=[],r){if(Array.isArray(e))return e.map((e=>st(e,t))).filter((e=>e));const n=""===e||null===e?-1:Number(e),i=t[n];return i?i.value:r}function ut(e,t){return Array.isArray(t)?t.some((t=>L.default(t,e))):L.default(t,e)}class lt{constructor(e){this.errorSchema={},this.resetAllErrors(e)}get ErrorSchema(){return this.errorSchema}getOrCreateErrorBlock(e){let t=Array.isArray(e)&&e.length>0||"string"==typeof e?_.default(this.errorSchema,e):this.errorSchema;return!t&&e&&(t={},P.default(this.errorSchema,e,t)),t}resetAllErrors(e){return this.errorSchema=e?R.default(e):{},this}addErrors(e,t){const r=this.getOrCreateErrorBlock(t);let n=_.default(r,Z);return Array.isArray(n)||(n=[],r[Z]=n),Array.isArray(e)?n.push(...e):n.push(e),this}setErrors(e,t){const r=this.getOrCreateErrorBlock(t),n=Array.isArray(e)?[...e]:[e];return P.default(r,Z,n),this}clearErrors(e){const t=this.getOrCreateErrorBlock(e);return P.default(t,Z,[]),this}}function dt(e){const t={};return e.multipleOf&&(t.step=e.multipleOf),(e.minimum||0===e.minimum)&&(t.min=e.minimum),(e.maximum||0===e.maximum)&&(t.max=e.maximum),t}const ct={props:{disabled:!1},submitText:"Submit",norender:!1},ft={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function pt(e,t,r={}){const n=ve(e);if("function"==typeof t||t&&C.default.isForwardRef(b.createElement(t))||C.default.isMemo(t))return function(e){let t=_.default(e,"MergedWidget");if(!t){const r=e.defaultProps&&e.defaultProps.options||{};t=({options:t,...n})=>x.jsx(e,{options:{...r,...t},...n}),P.default(e,"MergedWidget",t)}return t}(t);if("string"!=typeof t)throw new Error("Unsupported widget definition: "+typeof t);if(t in r)return pt(e,r[t],r);if("string"==typeof n){if(!(n in ft))throw new Error(`No widget for type '${n}'`);if(t in ft[n])return pt(e,r[ft[n][t]],r)}throw new Error(`No widget '${t}' for type '${n}'`)}function mt(e){const t=new Set;return JSON.stringify(e,((e,r)=>(t.add(e),r))),function(e){let t=0;for(let r=0;r<e.length;r+=1)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t.toString(16)}(JSON.stringify(e,Array.from(t).sort()))}function ht(e,t){return`${W.default(e)?e:e[ee]}__${t}`}function yt(e){return ht(e,"description")}function gt(e){return ht(e,"error")}function xt(e){return ht(e,"examples")}function bt(e){return ht(e,"help")}function St(e){if(X in e&&Array.isArray(e.enum)&&1===e.enum.length)return e.enum[0];if(z in e)return e.const;throw new Error("schema cannot be inferred as a constant")}function At(e,t){let r=String(e);for(;r.length<t;)r="0"+r;return r}function Ot(e,t=[]){if(!e)return[];let r=[];return Z in e&&(r=r.concat(e[Z].map((e=>{const r=`.${t.join(".")}`;return{property:r,message:e,stack:`${r} ${e}`}})))),Object.keys(e).reduce(((r,n)=>{if(n!==Z){const i=e[n];E.default(i)&&(r=r.concat(Ot(i,[...t,n])))}return r}),r)}var vt;exports.TranslatableString=void 0,(vt=exports.TranslatableString||(exports.TranslatableString={})).ArrayItemTitle="Item",vt.MissingItems="Missing items definition",vt.YesLabel="Yes",vt.NoLabel="No",vt.CloseLabel="Close",vt.ErrorsLabel="Errors",vt.NewStringDefault="New Value",vt.AddButton="Add",vt.AddItemButton="Add Item",vt.CopyButton="Copy",vt.MoveDownButton="Move down",vt.MoveUpButton="Move up",vt.RemoveButton="Remove",vt.NowLabel="Now",vt.ClearLabel="Clear",vt.AriaDateLabel="Select a date",vt.PreviewLabel="Preview",vt.DecrementAriaLabel="Decrease value by 1",vt.IncrementAriaLabel="Increase value by 1",vt.UnknownFieldType="Unknown field type %1",vt.OptionPrefix="Option %1",vt.TitleOptionPrefix="%1 option %2",vt.KeyLabel="%1 Key",vt.InvalidObjectField='Invalid "%1" object field configuration: <em>%2</em>.',vt.UnsupportedField="Unsupported field schema.",vt.UnsupportedFieldWithId="Unsupported field schema for field <code>%1</code>.",vt.UnsupportedFieldWithReason="Unsupported field schema: <em>%1</em>.",vt.UnsupportedFieldWithIdAndReason="Unsupported field schema for field <code>%1</code>: <em>%2</em>.",vt.FilesInfo="<strong>%1</strong> (%2, %3 bytes)";class Et{constructor(e){this.rootSchema=void 0,this.schemaMap={},this.rootSchema=e,this.addSchema(e,mt(e))}addSchema(e,t){const r=_.default(e,ee,t),n={...e,[ee]:r},i=this.schemaMap[r];if(i){if(!L.default(i,n))throw console.error("existing schema:",JSON.stringify(i,null,2)),console.error("new schema:",JSON.stringify(n,null,2)),new Error(`Two different schemas exist with the same key ${r}! What a bad coincidence. If possible, try adding an $id to one of the schemas`)}else this.schemaMap[r]=n}getSchemaMap(){return this.schemaMap}isValid(e,t,r){if(!L.default(r,this.rootSchema))throw new Error("Unexpectedly calling isValid() with a rootSchema that differs from the construction rootSchema");return this.addSchema(e,mt(e)),!1}rawValidation(e,t){throw new Error("Unexpectedly calling the `rawValidation()` method during schema parsing")}toErrorList(e,t){throw new Error("Unexpectedly calling the `toErrorList()` method during schema parsing")}validateFormData(e,t,r,n,i){throw new Error("Unexpectedly calling the `validateFormData()` method during schema parsing")}}function wt(e,t,r,n){Fe(e,n,r,void 0,!0).forEach((n=>{-1===t.findIndex((e=>L.default(e,n)))&&(t.push(n),Te(e,n,r,!0).forEach((i=>{ae in i&&i[ae]&&B.default(n[ae],(n=>{wt(e,t,r,n)}))})),re in n&&!Array.isArray(n.items)&&"boolean"!=typeof n.items&&wt(e,t,r,n.items))}))}exports.ADDITIONAL_PROPERTIES_KEY=K,exports.ADDITIONAL_PROPERTY_FLAG=V,exports.ALL_OF_KEY=H,exports.ANY_OF_KEY=J,exports.CONST_KEY=z,exports.DEFAULT_KEY=G,exports.DEFINITIONS_KEY="definitions",exports.DEPENDENCIES_KEY=Q,exports.ENUM_KEY=X,exports.ERRORS_KEY=Z,exports.ErrorSchemaBuilder=lt,exports.ID_KEY=ee,exports.IF_KEY=te,exports.ITEMS_KEY=re,exports.JUNK_OPTION_ID=ne,exports.NAME_KEY=ie,exports.ONE_OF_KEY=oe,exports.PROPERTIES_KEY=ae,exports.REF_KEY=le,exports.REQUIRED_KEY=se,exports.RJSF_ADDITONAL_PROPERTIES_FLAG=de,exports.ROOT_SCHEMA_PREFIX=ce,exports.SUBMIT_BTN_OPTIONS_KEY=ue,exports.UI_FIELD_KEY=fe,exports.UI_GLOBAL_OPTIONS_KEY="ui:globalOptions",exports.UI_OPTIONS_KEY=me,exports.UI_WIDGET_KEY=pe,exports.allowAdditionalItems=function(e){return!0===e.additionalItems&&console.warn("additionalItems=true is currently not supported"),Y(e.additionalItems)},exports.ariaDescribedByIds=function(e,t=!1){const r=t?` ${xt(e)}`:"";return`${gt(e)} ${yt(e)} ${bt(e)}${r}`},exports.asNumber=function(e){if(""===e)return;if(null===e)return null;if(/\.$/.test(e))return e;if(/\.0$/.test(e))return e;if(/\.\d*0$/.test(e))return e;const t=Number(e);return"number"!=typeof t||Number.isNaN(t)?e:t},exports.canExpand=function(e,t={},r){if(!e.additionalProperties)return!1;const{expandable:n=!0}=he(t);return!1===n?n:void 0===e.maxProperties||!r||Object.keys(r).length<e.maxProperties},exports.createErrorHandler=function e(t){const r={[Z]:[],addError(e){this[Z].push(e)}};if(Array.isArray(t))return t.reduce(((t,r,n)=>({...t,[n]:e(r)})),r);if(E.default(t)){const n=t;return Object.keys(n).reduce(((t,r)=>({...t,[r]:e(n[r])})),r)}return r},exports.createSchemaUtils=function(e,t,r={}){return new ot(e,t,r)},exports.dataURItoBlob=function(e){const t=e.split(","),r=t[0].split(";"),n=r[0].replace("data:",""),i=r.filter((e=>"name"===e.split("=")[0]));let o;o=1!==i.length?"unknown":decodeURI(i[0].split("=")[1]);try{const e=atob(t[1]),r=[];for(let t=0;t<e.length;t++)r.push(e.charCodeAt(t));return{blob:new window.Blob([new Uint8Array(r)],{type:n}),name:o}}catch(t){return{blob:{size:0,type:t.message},name:e}}},exports.deepEquals=ye,exports.descriptionId=yt,exports.englishStringTranslator=function(e,t){return at(e,t)},exports.enumOptionsDeselectValue=function(e,t,r=[]){const n=st(e,r);return Array.isArray(t)?t.filter((e=>!L.default(e,n))):L.default(n,t)?void 0:t},exports.enumOptionsIndexForValue=function(e,t=[],r=!1){const n=t.map(((t,r)=>ut(t.value,e)?String(r):void 0)).filter((e=>void 0!==e));return r?n:n[0]},exports.enumOptionsIsSelected=ut,exports.enumOptionsSelectValue=function(e,t,r=[]){const n=st(e,r);if(!y.isNil(n)){const e=r.findIndex((e=>n===e.value)),i=r.map((({value:e})=>e));return t.slice(0,e).concat(n,t.slice(e)).sort(((e,t)=>Number(i.indexOf(e)>i.indexOf(t))))}return t},exports.enumOptionsValueForIndex=st,exports.errorId=gt,exports.examplesId=xt,exports.findSchemaDefinition=xe,exports.getClosestMatchingOption=$e,exports.getDefaultFormState=Je,exports.getDiscriminatorFieldFromSchema=Ae,exports.getDisplayLabel=Qe,exports.getFirstMatchingOption=Se,exports.getInputProps=function(e,t,r={},n=!0){const i={type:t||"text",...dt(e)};return r.inputType?i.type=r.inputType:t||("number"===e.type?(i.type="number",n&&void 0===i.step&&(i.step="any")):"integer"===e.type&&(i.type="number",void 0===i.step&&(i.step=1))),r.autocomplete&&(i.autoComplete=r.autocomplete),i},exports.getMatchingOption=be,exports.getSchemaType=ve,exports.getSubmitButtonOptions=function(e={}){const t=he(e);if(t&&t[ue]){const e=t[ue];return{...ct,...e}}return ct},exports.getTemplate=function(e,t,r={}){const{templates:n}=t;return"ButtonTemplates"===e?n[e]:r[e]||n[e]},exports.getUiOptions=he,exports.getWidget=pt,exports.guessType=Oe,exports.hasWidget=function(e,t,r={}){try{return pt(e,t,r),!0}catch(e){const t=e;if(t.message&&(t.message.startsWith("No widget")||t.message.startsWith("Unsupported widget")))return!1;throw e}},exports.hashForSchema=mt,exports.helpId=bt,exports.isConstant=Ce,exports.isCustomWidget=ze,exports.isFilesArray=Ge,exports.isFixedItems=Me,exports.isMultiSelect=Be,exports.isObject=Y,exports.isSelect=ke,exports.labelValue=function(e,t,r){return t?r:e},exports.localToUTC=function(e){return e?new Date(e).toJSON():void 0},exports.mergeDefaultsWithFormData=Le,exports.mergeObjects=Re,exports.mergeSchemas=Ee,exports.mergeValidationData=Xe,exports.optionId=function(e,t){return`${e}-${t}`},exports.optionsList=function(e){const t=e;if(e.enum)return e.enum.map(((e,r)=>({label:t.enumNames&&t.enumNames[r]||String(e),value:e})));const r=e.oneOf||e.anyOf;return r&&r.map((e=>{const t=e,r=St(t);return{schema:t,label:t.title||String(r),value:r}}))},exports.orderProperties=function(e,t){if(!Array.isArray(t))return e;const r=e=>e.reduce(((e,t)=>(e[t]=!0,e)),{}),n=r(e),i=t.filter((e=>"*"===e||n[e])),o=r(i),a=e.filter((e=>!o[e])),s=i.indexOf("*");if(-1===s){if(a.length)throw new Error("uiSchema order list does not contain "+((u=a).length>1?`properties '${u.join("', '")}'`:`property '${u[0]}'`));return i}var u;if(s!==i.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");const l=[...i];return l.splice(s,1,...a),l},exports.pad=At,exports.parseDateString=function(e,t=!0){if(!e)return{year:-1,month:-1,day:-1,hour:t?-1:0,minute:t?-1:0,second:t?-1:0};const r=new Date(e);if(Number.isNaN(r.getTime()))throw new Error("Unable to parse date "+e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:t?r.getUTCHours():0,minute:t?r.getUTCMinutes():0,second:t?r.getUTCSeconds():0}},exports.rangeSpec=dt,exports.replaceStringParameters=at,exports.retrieveSchema=we,exports.sanitizeDataForNewSchema=et,exports.schemaParser=function(e){const t=new Et(e);return wt(t,[],e,e),t.getSchemaMap()},exports.schemaRequiresTrueValue=function e(t){return!!t.const||!(!t.enum||1!==t.enum.length||!0!==t.enum[0])||(t.anyOf&&1===t.anyOf.length?e(t.anyOf[0]):t.oneOf&&1===t.oneOf.length?e(t.oneOf[0]):!!t.allOf&&t.allOf.some((t=>e(t))))},exports.shouldRender=function(e,t,r){const{props:n,state:i}=e;return!ye(n,t)||!ye(i,r)},exports.titleId=function(e){return ht(e,"title")},exports.toConstant=St,exports.toDateString=function(e,t=!0){const{year:r,month:n,day:i,hour:o=0,minute:a=0,second:s=0}=e,u=Date.UTC(r,n-1,i,o,a,s),l=new Date(u).toJSON();return t?l:l.slice(0,10)},exports.toErrorList=Ot,exports.toErrorSchema=function(e){const t=new lt;return e.length&&e.forEach((e=>{const{property:r,message:n}=e,i="."===r?[]:k.default(r);i.length>0&&""===i[0]&&i.splice(0,1),n&&t.addErrors(n,i)})),t.ErrorSchema},exports.toIdSchema=rt,exports.toPathSchema=it,exports.unwrapErrorHandler=function e(t){return Object.keys(t).reduce(((r,n)=>{if("addError"===n)return r;{const i=t[n];return E.default(i)?{...r,[n]:e(i)}:{...r,[n]:i}}}),{})},exports.utcToLocal=function(e){if(!e)return"";const t=new Date(e);return`${At(t.getFullYear(),4)}-${At(t.getMonth()+1,2)}-${At(t.getDate(),2)}T${At(t.getHours(),2)}:${At(t.getMinutes(),2)}:${At(t.getSeconds(),2)}.${At(t.getMilliseconds(),3)}`},exports.validationDataMerge=function(e,t){if(!t)return e;const{errors:r,errorSchema:n}=e;let i=Ot(t),o=t;return I.default(n)||(o=Re(n,t,!0),i=[...r].concat(i)),{errorSchema:o,errors:i}},exports.withIdRefPrefix=function e(t){return Array.isArray(t)?function(t){for(let r=0;r<t.length;r++)t[r]=e(t[r]);return t}([...t]):j.default(t)?function(t){for(const r in t){const n=t[r];t[r]=r===le&&"string"==typeof n&&n.startsWith("#")?ce+n:e(n)}return t}({...t}):t};
//# sourceMappingURL=utils.cjs.production.min.js.map
